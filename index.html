<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Solar System Simulation</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Desktop speed indicator (appears briefly when speed changes via keyboard) -->
    <div id="desktop-speed-indicator" class="desktop-speed-indicator hidden">
        <span id="desktop-speed-label">Speed: 3</span>
    </div>
    
    <div id="info">
        <div id="info-content">
            <h1>Interactive Solar System</h1>
            <div id="planet-info">
                <p><strong>Planets:</strong> Mercury(M), Venus(V), Earth(E), Mars(R), Jupiter(J), Saturn(S), Uranus(U), Neptune(N)</p>
                <p><strong>Moons:</strong> 21 moons across Earth, Mars, Jupiter, Saturn, Uranus, Neptune</p>
                <p><strong>Features:</strong> NASA textures, asteroid belt, rings, cloud layers, guided tour</p>
            </div>
            <div id="controls">
                <p><strong>Controls:</strong></p>
                <div class="desktop-controls">
                    <p>Arrow Keys: Move view | Q: Forward | A: Backward</p>
                    <p>Mouse: Look around | Scroll: Zoom in/out</p>
                    <p><strong>P:</strong> Toggle orbital paths | <strong>T:</strong> Tour mode | <strong>‚Üê/‚Üí:</strong> Tour prev/next</p>
                    <p><strong>0-9:</strong> Speed control (0=stop, 9=full speed)</p>
                    <p><strong>Focus:</strong> M, V, E, R, J, S, U, N | <strong>ESC:</strong> Release</p>
                    <p><strong>Click</strong> a planet to see NASA images!</p>
                </div>
                <div class="mobile-controls">
                    <p><strong>Touch:</strong> Drag to look | <strong>Pinch:</strong> Zoom</p>
                    <p><strong>Double-tap:</strong> Focus planet | <strong>Swipe:</strong> Next/prev planet</p>
                    <p><strong>Tap planet</strong> for NASA images! Use controls below.</p>
                </div>
            </div>
        </div>
        <div id="info-toggle">
            <span id="info-icon">‚ÑπÔ∏è</span>
        </div>
        <div id="loading">Loading...</div>
    </div>
    
    <div id="mobile-ui">
        <div id="mobile-controls">
            <div id="mobile-toggle">
                <span id="mobile-toggle-icon">‚ñ≤</span>
            </div>
            
            <div id="mobile-content">
                <div class="control-row">
                    <button class="toggle-btn" id="orbit-toggle" data-action="toggleOrbits">
                        <span class="toggle-icon">üõ∏</span>
                        <span class="toggle-label">Paths</span>
                    </button>
                    
                    <button class="toggle-btn" id="tour-toggle" data-action="toggleTour">
                        <span class="toggle-icon">üöÄ</span>
                        <span class="toggle-label">Tour</span>
                    </button>
                    
                    <button class="toggle-btn" data-action="releaseFocus">
                        <span class="toggle-icon">üì∑</span>
                        <span class="toggle-label">Free</span>
                    </button>
                </div>
                
                <div class="speed-control">
                    <label for="speed-slider" class="speed-label">Speed: <span id="speed-value">100%</span></label>
                    <input type="range" id="speed-slider" min="0" max="9" value="9" class="speed-slider">
                </div>
                
                <div class="planet-selector">
                    <div class="planet-grid">
                        <button class="planet-btn" data-planet="Mercury">Mercury</button>
                        <button class="planet-btn" data-planet="Venus">Venus</button>
                        <button class="planet-btn" data-planet="Earth">Earth</button>
                        <button class="planet-btn" data-planet="Mars">Mars</button>
                        <button class="planet-btn" data-planet="Jupiter">Jupiter</button>
                        <button class="planet-btn" data-planet="Saturn">Saturn</button>
                        <button class="planet-btn" data-planet="Uranus">Uranus</button>
                        <button class="planet-btn" data-planet="Neptune">Neptune</button>
                    </div>
                    <p class="swipe-hint">Swipe left/right to change planets when focused</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tour Navigation Overlay -->
    <div id="tour-nav" class="tour-nav hidden">
        <button id="tour-prev" class="tour-nav-btn" title="Previous planet (Left arrow)">&#9664; Prev</button>
        <div class="tour-nav-center">
            <div class="tour-planet-name" id="tour-planet-name">Mercury</div>
            <div class="tour-dots" id="tour-dots"></div>
            <div class="tour-progress-bar">
                <div class="tour-progress-fill" id="tour-progress-fill"></div>
            </div>
        </div>
        <button id="tour-next" class="tour-nav-btn" title="Next planet (Right arrow)">Next &#9654;</button>
    </div>

    <!-- Planet Facts Panel -->
    <div id="planet-facts-panel" class="planet-facts-hidden">
        <div class="planet-facts-header">
            <h2 id="planet-facts-title">Planet Facts</h2>
            <button id="planet-facts-close" class="facts-close-btn">√ó</button>
        </div>
        <div class="planet-facts-description">
            <p id="planet-description"></p>
        </div>
        <div class="planet-facts-content">
            <div class="fact-item">
                <span class="fact-label">Diameter:</span>
                <span class="fact-value" id="planet-diameter">-</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Size vs Earth:</span>
                <span class="fact-value" id="planet-size-ratio">-</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Distance from Sun:</span>
                <span class="fact-value" id="planet-distance">-</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Day Length:</span>
                <span class="fact-value" id="planet-day">-</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Year Length:</span>
                <span class="fact-value" id="planet-year">-</span>
            </div>
            <div class="fact-item">
                <span class="fact-label">Moons:</span>
                <span class="fact-value" id="planet-moons">-</span>
            </div>
        </div>
        <div class="planet-facts-hint">
            <p>Click on a planet to see NASA images</p>
        </div>
    </div>
    
    <!-- Image Gallery Modal -->
    <div id="image-gallery-modal" class="hidden">
        <div class="gallery-backdrop"></div>
        <div class="gallery-content">
            <div class="gallery-header">
                <h2 id="gallery-title">Planet Images</h2>
                <button id="gallery-close" class="gallery-close-btn">√ó</button>
            </div>
            <div class="gallery-main">
                <button id="gallery-prev" class="gallery-nav gallery-prev">‚Äπ</button>
                <div class="gallery-image-container">
                    <img id="gallery-image" src="" alt="Planet image" />
                </div>
                <button id="gallery-next" class="gallery-nav gallery-next">‚Ä∫</button>
            </div>
            <div class="gallery-footer">
                <p id="gallery-caption" class="gallery-caption">Image caption</p>
                <div class="gallery-info">
                    <span id="gallery-counter">1 / 2</span>
                    <a id="gallery-source" href="#" target="_blank" rel="noopener noreferrer" class="gallery-source-link">View Source</a>
                </div>
            </div>
        </div>
    </div>
    
    <div id="container"></div>

    <!-- Three.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="main.js"></script>
</body>
</html>
